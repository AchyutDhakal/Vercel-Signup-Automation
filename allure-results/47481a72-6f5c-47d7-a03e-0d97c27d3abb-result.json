{"name": "Test User Signup", "status": "broken", "statusDetails": {"message": "TimeoutError: OTP email not received within timeout", "trace": "self = <tests.test_signup.TestSignup object at 0x00000227127B7860>\nvalid_data = {'agency_address': 'Kathmandu, Nepal', 'agency_email': 'agencymail@gmail.com', 'agency_name': 'Achyut Agency', 'agency_website': 'www.agency.com', ...}\n\n    @allure.title(\"Test User Signup\")\n    @pytest.mark.parametrize(\"valid_data\",VALID_DATA)\n    def test_user_signup(self, valid_data):\n        with allure.step(\"Navigate to Login Page\"):\n            self.signup_page.click_login_link()\n            time.sleep(2)\n            assert_true(\"login\" in self.driver.current_url, \"Login page did not load correctly\", \"login_link\",self.signup_page)\n    \n        with allure.step(\"Navigate to Signup Page\"):\n            self.signup_page.click_signup_link()\n            time.sleep(2)\n            assert_true(\"register\" in self.driver.current_url, \"Signup page did not load correctly\",\"signup_link\", self.signup_page)\n    \n        with allure.step(\"Check privacy policy checkbox and click on continue\"):\n            self.signup_page.click_privacy_policy_checkbox()\n            self.signup_page.click_continue_button()\n    \n        with allure.step(\"Setting up account details and otp verification\"):\n            self.signup_page.enter_first_name(valid_data[\"first_name\"])\n            self.signup_page.enter_last_name(valid_data[\"last_name\"])\n            self.signup_page.enter_email(valid_data[\"email\"])\n            self.signup_page.enter_phone_number(valid_data[\"phone_number\"])\n            self.signup_page.enter_password(valid_data[\"password\"])\n            self.signup_page.enter_confirm_password(valid_data[\"confirm_password\"])\n            self.signup_page.click_next_button1()\n            time.sleep(20)\n>           self.signup_page.enter_otp(get_otp_from_email())\n                                       ^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_signup.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ntimeout = 90, poll_interval = 5\n\n    def get_otp_from_email(timeout=90, poll_interval=5):\n        mail = imaplib.IMAP4_SSL(IMAP_SERVER)\n        mail.login(email_account, email_password)\n    \n        start_time = time.time()\n    \n        while time.time() - start_time < timeout:\n            mail.select(\"INBOX\")\n    \n            status, messages = mail.search(None, \"UNSEEN\")\n    \n            if status == \"OK\" and messages[0]:\n                email_ids = messages[0].split()\n    \n                for email_id in reversed(email_ids[-3:]):\n                    status, msg_data = mail.fetch(email_id, \"(RFC822)\")\n    \n                    for response_part in msg_data:\n                        if not isinstance(response_part, tuple):\n                            continue\n    \n                        msg = email.message_from_bytes(response_part[1])\n                        subject = msg.get(\"Subject\", \"\")\n    \n                        if not any(keyword in subject.lower() for keyword in [\"otp\", \"verification\", \"code\"]):\n                            continue\n    \n                        if msg.is_multipart():\n                            for part in msg.walk():\n                                if part.get_content_type() in (\"text/plain\", \"text/html\"):\n                                    body = part.get_payload(decode=True).decode(errors=\"ignore\")\n                                    match = re.search(OTP_REGEX, body)\n                                    if match:\n                                        mail.logout()\n                                        return match.group()\n                        else:\n                            body = msg.get_payload(decode=True).decode(errors=\"ignore\")\n                            match = re.search(OTP_REGEX, body)\n                            if match:\n                                mail.logout()\n                                return match.group()\n    \n            time.sleep(poll_interval)\n    \n        mail.logout()\n>       raise TimeoutError(\"OTP email not received within timeout\")\nE       TimeoutError: OTP email not received within timeout\n\nutils\\otp_reader.py:57: TimeoutError"}, "steps": [{"name": "Navigate to Login Page", "status": "passed", "start": 1770732394627, "stop": 1770732397057}, {"name": "Navigate to Signup Page", "status": "passed", "start": 1770732397057, "stop": 1770732399267}, {"name": "Check privacy policy checkbox and click on continue", "status": "passed", "start": 1770732399267, "stop": 1770732399697}, {"name": "Setting up account details and otp verification", "status": "broken", "statusDetails": {"message": "TimeoutError: OTP email not received within timeout\n", "trace": "  File \"H:\\Automation\\VercelApp\\tests\\test_signup.py\", line 48, in test_user_signup\n    self.signup_page.enter_otp(get_otp_from_email())\n                               ^^^^^^^^^^^^^^^^^^^^\n  File \"H:\\Automation\\VercelApp\\utils\\otp_reader.py\", line 57, in get_otp_from_email\n    raise TimeoutError(\"OTP email not received within timeout\")\n"}, "start": 1770732399697, "stop": 1770732514124}], "parameters": [{"name": "valid_data", "value": "{'first_name': 'Achyut', 'last_name': 'Dhakal', 'email': 'automationtest067+automations136@gmail.com', 'phone_number': '9825875489', 'password': 'Testtest7*', 'confirm_password': 'Testtest7*', 'agency_name': 'Achyut Agency', 'role_in_agency': 'Manager', 'agency_email': 'agencymail@gmail.com', 'agency_website': 'www.agency.com', 'agency_address': 'Kathmandu, Nepal', 'students_recruited': '50', 'focus_area': 'Engineering', 'success_metrics': '80', 'business_registration': '123456'}"}], "start": 1770732394627, "stop": 1770732514124, "uuid": "5b385d48-a612-4d35-ba88-de4937dfa88b", "historyId": "2780cf9163ce0307ee08a10e67e8d0cd", "testCaseId": "b55898f1993559ab401531a5299ad9e3", "fullName": "tests.test_signup.TestSignup#test_user_signup", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_signup"}, {"name": "subSuite", "value": "TestSignup"}, {"name": "host", "value": "DESKTOP-3H9EBVT"}, {"name": "thread", "value": "12964-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_signup"}], "titlePath": ["tests", "test_signup.py", "TestSignup"]}